{"ast":null,"code":"import { create } from 'zustand';\nimport { dummyTasks, dummyChats } from '../data/dummyData';\nexport const useTaskStore = create(set => ({\n  tasks: dummyTasks,\n  chats: dummyChats,\n  readMessages: [],\n  addTask: newTask => set(state => ({\n    tasks: [{\n      ...newTask,\n      id: String(state.tasks.length + 1),\n      status: 'open'\n    }, ...state.tasks]\n  })),\n  addChat: newChat => set(state => {\n    const existingChat = state.chats.find(chat => chat.sender === newChat.sender && chat.taskTitle === newChat.taskTitle);\n    if (existingChat) {\n      return state;\n    }\n    return {\n      chats: [newChat, ...state.chats]\n    };\n  }),\n  markChatAsRead: chatId => set(state => ({\n    readMessages: [...state.readMessages, chatId],\n    chats: state.chats.map(chat => chat.id === chatId ? {\n      ...chat,\n      unreadCount: 0\n    } : chat)\n  }))\n}));","map":{"version":3,"names":["create","dummyTasks","dummyChats","useTaskStore","set","tasks","chats","readMessages","addTask","newTask","state","id","String","length","status","addChat","newChat","existingChat","find","chat","sender","taskTitle","markChatAsRead","chatId","map","unreadCount"],"sources":["C:/Users/justi/OneDrive/Desktop/EN/src/store/taskStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { dummyTasks, dummyChats } from '../data/dummyData';\r\nimport { Task } from '../types';\r\n\r\ninterface Chat {\r\n  id: string;\r\n  sender: string;\r\n  taskTitle: string;\r\n  message: string;\r\n  timestamp: string;\r\n  unreadCount: number;\r\n}\r\n\r\ninterface TaskState {\r\n  tasks: Task[];\r\n  chats: Chat[];\r\n  readMessages: string[];\r\n  addTask: (task: Omit<Task, 'id'>) => void;\r\n  addChat: (chat: Chat) => void;\r\n  markChatAsRead: (chatId: string) => void;\r\n}\r\n\r\nexport const useTaskStore = create<TaskState>((set) => ({\r\n  tasks: dummyTasks,\r\n  chats: dummyChats,\r\n  readMessages: [],\r\n  addTask: (newTask) => set((state) => ({\r\n    tasks: [\r\n      {\r\n        ...newTask,\r\n        id: String(state.tasks.length + 1),\r\n        status: 'open'\r\n      },\r\n      ...state.tasks\r\n    ]\r\n  })),\r\n  addChat: (newChat) => set((state) => {\r\n    const existingChat = state.chats.find(chat => \r\n      chat.sender === newChat.sender && \r\n      chat.taskTitle === newChat.taskTitle\r\n    );\r\n    if (existingChat) {\r\n      return state;\r\n    }\r\n    return {\r\n      chats: [newChat, ...state.chats]\r\n    };\r\n  }),\r\n  markChatAsRead: (chatId: string) => set((state) => ({\r\n    readMessages: [...state.readMessages, chatId],\r\n    chats: state.chats.map(chat => \r\n      chat.id === chatId \r\n        ? { ...chat, unreadCount: 0 }\r\n        : chat\r\n    )\r\n  }))\r\n})); "],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAChC,SAASC,UAAU,EAAEC,UAAU,QAAQ,mBAAmB;AAqB1D,OAAO,MAAMC,YAAY,GAAGH,MAAM,CAAaI,GAAG,KAAM;EACtDC,KAAK,EAAEJ,UAAU;EACjBK,KAAK,EAAEJ,UAAU;EACjBK,YAAY,EAAE,EAAE;EAChBC,OAAO,EAAGC,OAAO,IAAKL,GAAG,CAAEM,KAAK,KAAM;IACpCL,KAAK,EAAE,CACL;MACE,GAAGI,OAAO;MACVE,EAAE,EAAEC,MAAM,CAACF,KAAK,CAACL,KAAK,CAACQ,MAAM,GAAG,CAAC,CAAC;MAClCC,MAAM,EAAE;IACV,CAAC,EACD,GAAGJ,KAAK,CAACL,KAAK;EAElB,CAAC,CAAC,CAAC;EACHU,OAAO,EAAGC,OAAO,IAAKZ,GAAG,CAAEM,KAAK,IAAK;IACnC,MAAMO,YAAY,GAAGP,KAAK,CAACJ,KAAK,CAACY,IAAI,CAACC,IAAI,IACxCA,IAAI,CAACC,MAAM,KAAKJ,OAAO,CAACI,MAAM,IAC9BD,IAAI,CAACE,SAAS,KAAKL,OAAO,CAACK,SAC7B,CAAC;IACD,IAAIJ,YAAY,EAAE;MAChB,OAAOP,KAAK;IACd;IACA,OAAO;MACLJ,KAAK,EAAE,CAACU,OAAO,EAAE,GAAGN,KAAK,CAACJ,KAAK;IACjC,CAAC;EACH,CAAC,CAAC;EACFgB,cAAc,EAAGC,MAAc,IAAKnB,GAAG,CAAEM,KAAK,KAAM;IAClDH,YAAY,EAAE,CAAC,GAAGG,KAAK,CAACH,YAAY,EAAEgB,MAAM,CAAC;IAC7CjB,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACkB,GAAG,CAACL,IAAI,IACzBA,IAAI,CAACR,EAAE,KAAKY,MAAM,GACd;MAAE,GAAGJ,IAAI;MAAEM,WAAW,EAAE;IAAE,CAAC,GAC3BN,IACN;EACF,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}